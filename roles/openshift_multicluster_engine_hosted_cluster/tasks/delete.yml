- name: Retrieve OpenShift pull secret
  kubernetes.core.k8s_info:
    api_version: v1
    kind: Secret
    name: pull-secret
    namespace: openshift-config
  register: openshift_pull_secret

- name: Delete deployment objects of {{ multicluster_engine_hosted_cluster.cluster_name }} hosted cluster
  kubernetes.core.k8s:
    template:
      - cluster-hd.yaml
      - cluster-aws-creds-secret.yaml
    state: absent
    wait: true
    wait_timeout: 1800
