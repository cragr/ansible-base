- name: Delete Terraform provider config
  kubernetes.core.k8s:
    definition: "{{ lookup('template', '{{ item }}') }}"
    state: absent
    wait: True
  loop:
    - default-providerconfig-terraform.yaml

- name: Delete Terraform provider
  kubernetes.core.k8s:
    definition: "{{ lookup('template', '{{ item }}') }}"
    state: absent
    wait: True
  loop:
    - terraform-controllerconfig.yaml
    - terraform-provider.yaml
