- name: Check if default storage class exists
  import_role:
    name: openshift_common
    tasks_from: get_default_storage_class.yml

- name: Delete topolvm storage class
  kubernetes.core.k8s:
    template:
      - topolvm-sc.yaml
    state: absent

- name: Delete TopoLVM instance
  kubernetes.core.k8s:
    template:
      - topolvm-scc-rolebinding.yaml
      - global-info-cm.yaml
      - topolvm-topolvmcluster.yaml
    state: absent

- name: Delete TopoLVM operator
  kubernetes.core.k8s:
    template:
      - topolvm-operator-sub.yaml
    state: absent
